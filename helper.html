<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>NeedsConnect - Helper Dashboard</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --green-600: #007f6b;
      --green-700: #005e4b;
      --card-bg: #ffffff;
      --muted: #777;
      --max-width: 1200px;
    }

    html,body{height:100%;margin:0;padding:0;}

    body {
      margin: 0;
      padding: 0;
      font-family: 'Poppins', sans-serif;
      color: #333;
      background: #f9f9f9;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* Header */
    header {
      background: #ffffff;
      width: 100%;
      max-width: var(--max-width);
      padding: 14px 28px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      position: sticky;
      top: 0;
      z-index: 100;
      margin-bottom: 18px;
    }

    /* logo on the left */
    header .logo {
      height: 56px;          /* adjust if you want it smaller or bigger */
      width: auto;
      object-fit: contain;
      display: block;
    }

    /* logout button on the right */
    header button {
      background: var(--green-600);
      color: white;
      border: none;
      padding: 10px 16px;
      font-size: 14px;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.2s, transform 0.12s;
    }
    header button:hover{
      background: var(--green-700);
      transform: translateY(-2px);
    }

    /* main container */
    .container {
      width: 100%;
      max-width: var(--max-width);
      padding: 18px 28px 60px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .search-box {
      display: flex;
      gap: 12px;
      align-items: center;
      justify-content: space-between;
    }
    .search-box input {
      flex: 1;
      min-width: 240px;
      padding: 12px 14px;
      font-size: 15px;
      border: 1px solid #e4e4e4;
      border-radius: 8px;
      outline: none;
      transition: box-shadow .15s, border-color .15s;
    }
    .search-box input:focus{
      border-color: var(--green-600);
      box-shadow: 0 6px 18px rgba(0,127,107,0.08);
    }

    .search-box .actions {
      display:flex;
      gap:8px;
      margin-left: 12px;
    }
    .search-box button {
      background: var(--green-600);
      color: white;
      border: none;
      padding: 11px 14px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
    }
    .search-box button.secondary {
      background: #f3f3f3;
      color: #333;
      border: 1px solid #e6e6e6;
    }

    /* grid of cards */
    .needs-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 22px;
      align-items: start;
    }

    .need-card {
      background: var(--card-bg);
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 6px 18px rgba(0,0,0,0.06);
      display: flex;
      flex-direction: column;
      min-height: 170px;
    }
    .need-card-content {
      padding: 16px;
      display:flex;
      flex-direction:column;
      gap:8px;
      flex:1;
    }
    .need-card h3 {
      margin:0;
      font-size:18px;
      color: var(--green-700);
    }
    .need-card p {
      margin:0;
      color: var(--muted);
      font-size:14px;
      line-height:1.3;
    }
    .need-card .meta {
      margin-top: 8px;
      font-size:13px;
      color:#666;
    }
    .need-card .cta {
      margin-top: auto;
      padding: 12px 16px;
      background: var(--green-600);
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 8px;
      font-weight:600;
    }
    .need-card .cta:hover { background: var(--green-700); transform: translateY(-2px); }

    footer {
      width:100%;
      max-width: var(--max-width);
      padding: 18px 28px;
      color:#555;
      text-align:center;
      font-size:14px;
      margin-top:auto;
    }

    @media (max-width:720px){
      header{padding:12px 16px}
      .container{padding:14px 16px}
      header .logo{height:44px}
    }
  </style>
</head>
<body>
  <header>
    <!-- put your logo file in the same folder and name it newlogo.jpg (or change src) -->
    <img src="newlogo.jpg" alt="NeedsConnect Logo" class="logo">
    <button onclick="logout()">Logout</button>
  </header>

  <div class="container">
    <div class="search-box">
      <input id="search" placeholder="Search needs (e.g. water, school, health)..." />
      <div class="actions">
        <button onclick="checkout()">Checkout Basket</button>
        <button class="secondary" id="showMoreBtn" style="display:none" onclick="showMore()">Show more</button>
      </div>
    </div>

    <div class="needs-list" id="needsList">
      <!-- cards inserted by JS -->
    </div>
  </div>

  <footer>© 2025 NeedsConnect | Empowering Communities</footer>

  <script>
    // ---------- sample needs array (replace/extend) ----------
    // keep as many items as you want; this demo includes 24 to test layout
    const needs = [
      { id:1, name: "School Supplies for Kids", category: "Education", desc:"Notebooks, pens and backpacks for students." },
      { id:2, name: "Food for Refugee Families", category: "Relief", desc:"Monthly food packs to cover basic meals." },
      { id:3, name: "Medical Aid for Elderly", category: "Health", desc:"Medicines and checkups for elderly patients." },
      { id:4, name: "Clean Water Project", category: "Infrastructure", desc:"Install community water filters." },
      { id:5, name: "Winter Blankets", category: "Relief", desc:"Warm blankets for homeless families." },
      { id:6, name: "Solar Lamps", category: "Energy", desc:"Rechargeable lamps for off-grid homes." },
      { id:7, name: "Wheelchairs Donation", category: "Disability", desc:"Provide mobility aids for those in need." },
      { id:8, name: "School Meals Program", category: "Education", desc:"Daily nutritious lunches for schoolchildren." },
      { id:9, name: "Community Garden Seed Kits", category: "Environment", desc:"Seeds and tools for local gardens." },
      { id:10, name: "Hygiene Kits", category: "Health", desc:"Soap, toothpaste and sanitary items." },
      { id:11, name: "Mobile Clinic Van", category: "Health", desc:"Transport to deliver basic medical services." },
      { id:12, name: "Books for Library", category: "Education", desc:"Reading materials for community libraries." },
      { id:13, name: "Vocational Training Tools", category: "Skills", desc:"Basic equipment for skill workshops." },
      { id:14, name: "Livestock Support", category: "Livelihood", desc:"Chickens or goats to support farming families." },
      { id:15, name: "Sanitation Toilets", category: "Infrastructure", desc:"Build hygienic toilets in villages." },
      { id:16, name: "Emergency Relief Kits", category: "Relief", desc:"Kits for quick distribution after disasters." },
      { id:17, name: "Adult Literacy Classes", category: "Education", desc:"Teaching reading and writing to adults." },
      { id:18, name: "Refugee Shelter Materials", category: "Relief", desc:"Tents and basic shelter supplies." },
      { id:19, name: "Medical Equipment", category: "Health", desc:"Basic clinic equipment and supplies." },
      { id:20, name: "Tree-Planting Campaign", category: "Environment", desc:"Saplings and tools for reforestation." },
      { id:21, name: "Clean Beach Initiative", category: "Environment", desc:"Community beach cleanup campaigns." },
      { id:22, name: "Counseling Services", category: "Mental Health", desc:"Support for trauma and counseling sessions." },
      { id:23, name: "Computer Lab for School", category: "Education", desc:"Desktops and network for a rural school." },
      { id:24, name: "Youth Sports Kits", category: "Community", desc:"Balls and kits to encourage youth sports." }
      // add up to 100+ items here
    ];

    // paging config
    const BATCH = 20;
    let displayed = 0;
    const needsList = document.getElementById('needsList');
    const showMoreBtn = document.getElementById('showMoreBtn');

    // basket
    const basket = new Set();

    function renderBatch() {
      const slice = needs.slice(displayed, displayed + BATCH);
      slice.forEach(n => {
        const card = document.createElement('div');
        card.className = 'need-card';
        card.innerHTML = `
          <div class="need-card-content">
            <h3>${n.name}</h3>
            <p class="category">Category: ${n.category}</p>
            <p class="meta">${n.desc}</p>
            <button class="cta" data-id="${n.id}">${ basket.has(n.id) ? 'Remove' : 'Add to Basket' }</button>
          </div>
        `;
        needsList.appendChild(card);
      });
      displayed += slice.length;
      // toggle showMore visibility
      if (displayed < needs.length) {
        showMoreBtn.style.display = '';
      } else {
        showMoreBtn.style.display = 'none';
      }
    }

    // initial render
    renderBatch();

    // show more
    function showMore(){
      renderBatch();
      // smooth scroll to newly added items
      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    }

    // global click handler for add/remove and actions
    document.addEventListener('click', (e) => {
      const target = e.target;
      if (target.matches('.cta')) {
        const id = Number(target.dataset.id);
        if (basket.has(id)) {
          basket.delete(id);
          target.textContent = 'Add to Basket';
          alert('Removed from basket');
        } else {
          basket.add(id);
          target.textContent = 'Remove';
          alert('Added to basket');
        }
        updateCheckoutButton();
      }
    });

    function updateCheckoutButton(){
      const btn = document.querySelector('.search-box button');
      btn.textContent = `Checkout (${basket.size})`;
    }

    function checkout(){
      if (basket.size === 0) {
        alert('Your basket is empty.');
        return;
      }
      const items = Array.from(basket).map(id => needs.find(n=>n.id===id).name);
      alert('You have funded: ' + items.join(', '));
      basket.clear();
      // update buttons text displayed on cards
      document.querySelectorAll('.cta').forEach(btn => btn.textContent = 'Add to Basket');
      updateCheckoutButton();
    }

    // search
    const searchInput = document.getElementById('search');
    searchInput.addEventListener('input', e => {
      const q = e.target.value.trim().toLowerCase();
      needsList.innerHTML = '';
      // reset displayed and show filtered items (but still respect batching)
      const filtered = needs.filter(n => n.name.toLowerCase().includes(q) || n.category.toLowerCase().includes(q) || n.desc.toLowerCase().includes(q));
      // show first batch of filtered results and showMore if more
      displayed = 0;
      // temporarily override global needs rendering with filtered list by rendering from filtered array
      // but easiest is: rebuild needsList with filtered slice
      const slice = filtered.slice(0, BATCH);
      slice.forEach(n => {
        const card = document.createElement('div');
        card.className = 'need-card';
        card.innerHTML = `
          <div class="need-card-content">
            <h3>${n.name}</h3>
            <p class="category">Category: ${n.category}</p>
            <p class="meta">${n.desc}</p>
            <button class="cta" data-id="${n.id}">${ basket.has(n.id) ? 'Remove' : 'Add to Basket' }</button>
          </div>
        `;
        needsList.appendChild(card);
      });
      if (filtered.length > BATCH) {
        showMoreBtn.style.display = '';
        // modify showMore to load next items from filtered results — simplest is to replace showMore handler:
        showMoreBtn.onclick = function(){
          const currentShown = needsList.querySelectorAll('.need-card').length;
          const next = filtered.slice(currentShown, currentShown + BATCH);
          next.forEach(n=>{
            const card = document.createElement('div');
            card.className = 'need-card';
            card.innerHTML = `
              <div class="need-card-content">
                <h3>${n.name}</h3>
                <p class="category">Category: ${n.category}</p>
                <p class="meta">${n.desc}</p>
                <button class="cta" data-id="${n.id}">${ basket.has(n.id) ? 'Remove' : 'Add to Basket' }</button>
              </div>
            `;
            needsList.appendChild(card);
          });
          if (needsList.querySelectorAll('.need-card').length >= filtered.length) showMoreBtn.style.display = 'none';
        };
      } else {
        showMoreBtn.style.display = 'none';
        // restore default showMore handler
        showMoreBtn.onclick = showMore;
      }
    });

    // logout
    function logout(){
      localStorage.removeItem('user');
      window.location.href = 'index.html'; // or login page
    }

    // ensure checkout button text initial
    updateCheckoutButton();
  </script>
</body>
</html>

